
<% provide( :title, "Dashboard") %>

<div class="row">
  <div class="col-md-12">
  <div class="x_panel" style="">
      <div class="x_title">
<h3>
  
  Admin Dashboard
</h3>
</div>







<div class="">
  <div class="col-md-9 col-sm-9 col-xs-12">
    <div class="x_panel">
      <div class="x_title">
        <h2><i class="fa fa-bars"></i>Usage Guide <small>mini manual</small></h2>
        <ul class="nav navbar-right panel_toolbox">
          <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
          </li>
          
        </ul>
        <div class="clearfix"></div>
      </div>
      <div class="x_content">


<h3>How to use this Application</h3>
<p>To minimize this pane click on the hook-up icon up.</p>
<p>After signup, the app prompted to create a company profile</p>
<p>That was just a kick start</p>

<p>Now you need to have one or more zones</p>
<p>This could be a city or state, a place where you have 2 or more stations you could group under a zone.</p>
<p>After your zone is created you would be redirected to it. There you could add stations and a Zonal Managers</p>
<p>A Zonal manager can be viewed as a manager who is incharge of many stations, these are specifically the stations in that area (zone).</p>
<p>There can be many zonal managers in a zone. If your zonal manager manages several stations in different zones, You may have to add him to the zones differently with different emails, else you give us feed back to enable this functionality for easy flow. This Application grants such priviledge only to the company admin. The Company Admin has full access to all zones he create.</p>
<p>A Station is your petrol station in that area.</p>
<p>After a station is created, you would be redirected to it. Here you can add products and station managers</p>
<p>No need to panick, you are going to create models to represent activites in a petrol station</p>
<p>A product is what you sale e.g DPK, AGO etc. Add as much product you sale.</p>
<p>Station manager is incharge of the station he or she is created in. there can be manay managers in a station</p>
<p>
<p>After Creating A product you would be redirected to it. There you can add pumps </p>
<p>After creating pump you would be redirected to it, in a pump you would create pump tank. this is modelling the tank capacity of that pump in your station.</p>
<p>This application assumes that you have name the pump in your stations same name your give them here for ease operation</p>
<p class="lead">Points to Note</p>
<p>Any one can submit sales report</p>
<p>Any one can create models</p>
<p>Ones sales report is entered or any model is created only admin can edit or delete it on the system</p>
<p>Zonal Manager can read all models in a zone, manager in a station.</p>
<p>Each Pumps represents the pumps of a particular product in a station</p>
<p>Each Pumps has one tank</p>
<p>Sales Reports are submitted on a product, where the pump is selected.</p>
<p>Stock is entered on a pump. E.g new stock for dpk, navigate to the station, to dpk product, to the pump and click on add stock.</p>
<p>The sidemenu helps in navigation. You would get use to the system soon. Please give us feed back on how to improve the system via.. email:info@3dhubtech.com</p> 
</div>


          </div>
          </div>
        </div>

  




<div class="col-md-9 col-sm-9 col-xs-12">
<%if @sales_reports.any?%>

 <center><strong><h2>Visualization | Anormally in Reports</h2></strong></center>
<div class="col-xs-6">
    <h5>Sales Report | Products Line Grapgh</h5>
    <h5>Parterns indicate most sold product.</h5>
    <%= line_chart @sales_reports.group_by_day(:product_id).count %>

  </div>


  <div class="col-xs-6">
    <h5>Track Remark</h5>
    <h5>Downward slope depicts shortages in reports, straight Level curve depicts Normal Flow, upward rising curve depicts excesses.</h5>
    <%= line_chart @sales_reports.group_by_day(:remark).count %>

  </div>

  <div class="col-xs-6">
    <h5>Sales Report By Remark Percentage</h5>
    <h5>Percentage depicts .</h5>
    <%= pie_chart @sales_reports.group_by_day(:remark).count%>
  </div>


  <div class="col-xs-6">
    <h5>Area Chart</h5>
    <h5>Downward slope depicts shortages in reports, straight Level curve depicts Normal Flow, upward rising curve depicts excesses.</h5>
    <%= area_chart @sales_reports.group_by_day(:remark).count%>
  </div>


  <div class="col-xs-6">
    <h5>Column Chart</h5>
    <%= column_chart @sales_reports.group_by_day(:remark).count %>
  </div>
  <div class="col-xs-6">
    <h5>Column Chart</h5>
    <%= column_chart @sales_reports.group_by_day(:remark).count %>
  </div>
  <div class="col-xs-6">
    <h5>Bar Chart</h5>
    <%= bar_chart @sales_reports.group_by_day(:remark).count%>
  </div>
  <div class="col-xs-6">
    <h5>Bar Chart</h5>
    <%= bar_chart @sales_reports.group_by_day(:remark).count%>
  </div>
<%else%>
<center><p class="lead">We are sorry, we could't project visualizations at the moment. Should be you have no Reports Entered yet.</p></center> 
<%end%>


</div>
<div class="clearfix"></div>

<div class="">
  <div class="col-md-9 col-sm-9 col-xs-12">
    <div class="x_panel">
      <div class="x_title">
        <h2><i class="fa fa-bars"></i>Company Report Pane <small>sort Checkins</small></h2>
        <ul class="nav navbar-right panel_toolbox">
          <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
          </li>
          
        </ul>
        <div class="clearfix"></div>
      </div>
      <div class="x_content">


        <div class="" role="tabpanel" data-example-id="togglable-tabs">
          <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
            <li role="presentation" class="active"><a href="#tab_content1" id="home-tab" role="tab" data-toggle="tab" aria-expanded="true">Today Reports</a>
            </li>
            <li role="presentation" class=""><a href="#tab_content2" role="tab" id="profile-tab" data-toggle="tab" aria-expanded="false">Yesterday Reports</a>
            </li>
            <li role="presentation" class=""><a href="#tab_content3" role="tab" id="profile-tab2" data-toggle="tab" aria-expanded="false">This Week Reports</a>
            </li>

          </ul>
          <div id="myTabContent" class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="home-tab">


<%if @todayreports.any?%>

<p class="lead">Today Reports</p>

<table id="datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      
      <th>Product</th>
    
      <th>Sold capacity</th>
      <th>Estimate amount</th>
      <th>Amount brought</th>
      <th>Remark</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @todayreports.each do |sales_report| %>
      <tr>
       
        <td><%= sales_report.product.name %></td>
       
        <td><%= sales_report.sold_capacity %></td>
        <td><%= sales_report.estimate_amount %></td>
        <td><%= sales_report.amount_brought %></td>
        <td><%= sales_report.remark %></td>
        <td><%= link_to 'Show', sales_report, class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_sales_report_path(sales_report), class:"btn btn-success"%></td>
        <td><%= link_to 'Delete', sales_report, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>

    <% end %>


  </tbody>

</table>


<table id="datatable" class="table table-striped table-bordered">
  <tbody>


 <tr><td> <p class="lead"><strong><center>Total Amount Brought: <%= todaytotal_amount %> |  Total Estimated Amount: <%= todayestimate_amount %></center></strong></p><td></tr>

  </tbody>

</table>
 <%= will_paginate @todayreports, :renderer => BootstrapPagination::Rails %>
<%else%>
<p class="lead">No Reports in this category</p>
<%end%>



            </div>
            <div role="tabpanel" class="tab-pane fade" id="tab_content2" aria-labelledby="profile-tab">
             
<%if @yesterdayreports.any?%>

<p class="lead">Yesterday Reports</p>

<table id="datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      
      <th>Product</th>
    
      <th>Sold capacity</th>
      <th>Estimate amount</th>
      <th>Amount brought</th>
      <th>Remark</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @yesterdayreports.each do |sales_report| %>
      <tr>
       
        <td><%= sales_report.product.name %></td>
       
        <td><%= sales_report.sold_capacity %></td>
        <td><%= sales_report.estimate_amount %></td>
        <td><%= sales_report.amount_brought %></td>
        <td><%= sales_report.remark %></td>
        <td><%= link_to 'Show', sales_report, class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_sales_report_path(sales_report), class:"btn btn-success"%></td>
        <td><%= link_to 'Delete', sales_report, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>

    <% end %>


  </tbody>

</table>


<table id="datatable" class="table table-striped table-bordered">
  <tbody>


 <tr><td> <p class="lead"><strong><center>Total Amount Brought: <%= yesterdaytotal_amount %> |  Total Estimated Amount: <%= yesterdayestimate_amount %></center></strong></p><td></tr>

  </tbody>

</table>
 <%= will_paginate @yesterdayreports, :renderer => BootstrapPagination::Rails %>
<%else%>
<p class="lead">No Reports in this category</p>
<%end%>

            </div>
            <div role="tabpanel" class="tab-pane fade" id="tab_content3" aria-labelledby="profile-tab">

              <p class="lead">
<%if @thisweekreports.any?%>

<p class="lead">This week Reports</p>

<table id="datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      
      <th>Product</th>
    
      <th>Sold capacity</th>
      <th>Estimate amount</th>
      <th>Amount brought</th>
      <th>Remark</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @thisweekreports.each do |sales_report| %>
      <tr>
       
        <td><%= sales_report.product.name %></td>
       
        <td><%= sales_report.sold_capacity %></td>
        <td><%= sales_report.estimate_amount %></td>
        <td><%= sales_report.amount_brought %></td>
        <td><%= sales_report.remark %></td>
        <td><%= link_to 'Show', sales_report, class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_sales_report_path(sales_report), class:"btn btn-success"%></td>
        <td><%= link_to 'Delete', sales_report, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>

    <% end %>


  </tbody>

</table>


<table id="datatable" class="table table-striped table-bordered">
  <tbody>


 <tr><td> <p class="lead"><strong><center>Total Amount Brought: <%= thisweektotal_amount %> |  Total Estimated Amount: <%= thisweekestimate_amount %></center></strong></p><td></tr>

  </tbody>

</table>
 <%= will_paginate @thisweekreports, :renderer => BootstrapPagination::Rails %>
<%else%>
No Reports in this category
<%end%></p>
            </div>


          </div>
          </div>
        </div>

      </div>
    </div>
  </div>


 <div class="col-md-9 col-sm-9 col-xs-12">
    <div class="x_panel">
      <div class="x_title">
        <h2><i class="fa fa-bars"></i>Inner Pane <small>Inside Checkins</small></h2>
        <ul class="nav navbar-right panel_toolbox">
          <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
          </li>
          
          
        </ul>
        <div class="clearfix"></div>
      </div>
      <div class="x_content">

        <div class="" role="tabpanel" data-example-id="togglable-tabs">
          <ul id="myTab1" class="nav nav-tabs bar_tabs right" role="tablist">
            <li role="presentation" class="active"><a href="#tab_content11" id="home-tabb" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true">Past 7 Days</a>
            </li>
            <li role="presentation" class=""><a href="#tab_content22" role="tab" id="profile-tabb" data-toggle="tab" aria-controls="profile" aria-expanded="false">This Month</a>
            </li>
            <li role="presentation" class=""><a href="#tab_content33" role="tab" id="profile-tabb3" data-toggle="tab" aria-controls="profile" aria-expanded="false">Past 30 days</a>
            </li>
          </ul>
          <div id="myTabContent2" class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="tab_content11" aria-labelledby="home-tab">            
              <p class="lead">
<%if @pastweekreports.any?%>

<p class="lead">Past 7 Days Reports</p>

<table id="datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      
      <th>Product</th>
    
      <th>Sold capacity</th>
      <th>Estimate amount</th>
      <th>Amount brought</th>
      <th>Remark</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @pastweekreports.each do |sales_report| %>
      <tr>
       
        <td><%= sales_report.product.name %></td>
       
        <td><%= sales_report.sold_capacity %></td>
        <td><%= sales_report.estimate_amount %></td>
        <td><%= sales_report.amount_brought %></td>
        <td><%= sales_report.remark %></td>
        <td><%= link_to 'Show', sales_report, class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_sales_report_path(sales_report), class:"btn btn-success"%></td>
        <td><%= link_to 'Delete', sales_report, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>

    <% end %>


  </tbody>

</table>


<table id="datatable" class="table table-striped table-bordered">
  <tbody>


 <tr><td> <p class="lead"><strong><center>Total Amount Brought: <%= pastweektotal_amount %> |  Total Estimated Amount: <%= pastweekestimate_amount %></center></strong></p><td></tr>

  </tbody>

</table>
 <%= will_paginate @pastweekreports, :renderer => BootstrapPagination::Rails %>
<%else%>
No Reports in this category
<%end%></p>

            </div>
            <div role="tabpanel" class="tab-pane fade" id="tab_content22" aria-labelledby="profile-tab">
  
            
              <p class="lead">
<%if @thismonthreports.any?%>

<p class="lead">This month Reports</p>

<table id="datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      
      <th>Product</th>
    
      <th>Sold capacity</th>
      <th>Estimate amount</th>
      <th>Amount brought</th>
      <th>Remark</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @thismonthreports.each do |sales_report| %>
      <tr>
       
        <td><%= sales_report.product.name %></td>
       
        <td><%= sales_report.sold_capacity %></td>
        <td><%= sales_report.estimate_amount %></td>
        <td><%= sales_report.amount_brought %></td>
        <td><%= sales_report.remark %></td>
        <td><%= link_to 'Show', sales_report, class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_sales_report_path(sales_report), class:"btn btn-success"%></td>
        <td><%= link_to 'Delete', sales_report, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>

    <% end %>


  </tbody>

</table>


<table id="datatable" class="table table-striped table-bordered">
  <tbody>


 <tr><td> <p class="lead"><strong><center>Total Amount Brought: <%= thismonthtotal_amount %> |  Total Estimated Amount: <%= thismonthestimate_amount %></center></strong></p><td></tr>

  </tbody>

</table>
 <%= will_paginate @thismonthreports, :renderer => BootstrapPagination::Rails %>
<%else%>
No Reports in this category
<%end%></p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="tab_content33" aria-labelledby="profile-tab">

        
              <p class="lead">
<%if @pastmonthreports.any?%>

<p class="lead">Last 30 Days Reports</p>

<table id="datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      
      <th>Product</th>
    
      <th>Sold capacity</th>
      <th>Estimate amount</th>
      <th>Amount brought</th>
      <th>Remark</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @pastmonthreports.each do |sales_report| %>
      <tr>
       
        <td><%= sales_report.product.name %></td>
       
        <td><%= sales_report.sold_capacity %></td>
        <td><%= sales_report.estimate_amount %></td>
        <td><%= sales_report.amount_brought %></td>
        <td><%= sales_report.remark %></td>
        <td><%= link_to 'Show', sales_report, class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_sales_report_path(sales_report), class:"btn btn-success"%></td>
        <td><%= link_to 'Delete', sales_report, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>

    <% end %>


  </tbody>

</table>


<table id="datatable" class="table table-striped table-bordered">
  <tbody>


 <tr><td> <p class="lead"><strong><center>Total Amount Brought: <%= pastmonthtotal_amount %> |  Total Estimated Amount: <%= pastmonthestimate_amount %></center></strong></p><td></tr>

  </tbody>

</table>
 <%= will_paginate @pastmonthreports, :renderer => BootstrapPagination::Rails %>
<%else%>
No Reports in this category
<%end%></p>


            </div>
          </div>
        </div>

<div class="clearfix"></div>
      </div>
      <div class="x_content">

    
        <!-- start accordion -->
        <div class="accordion" id="accordion" role="tablist" aria-multiselectable="true">
          <div class="panel">
            <a class="panel-heading" role="tab" id="headingOne" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              <h4 class="panel-title">3 Months Quarter</h4>
            </a>
            <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
              <div class="panel-body">           

   
              
<%if @quarteryearreports.any?%>

<p class="lead">3 Months Quarter Reports</p>

<table id="datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      
      <th>Product</th>
    
      <th>Sold capacity</th>
      <th>Estimate amount</th>
      <th>Amount brought</th>
      <th>Remark</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @quarteryearreports.each do |sales_report| %>
      <tr>
       
        <td><%= sales_report.product.name %></td>
       
        <td><%= sales_report.sold_capacity %></td>
        <td><%= sales_report.estimate_amount %></td>
        <td><%= sales_report.amount_brought %></td>
        <td><%= sales_report.remark %></td>
        <td><%= link_to 'Show', sales_report, class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_sales_report_path(sales_report), class:"btn btn-success"%></td>
        <td><%= link_to 'Delete', sales_report, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>

    <% end %>


  </tbody>

</table>


<table id="datatable" class="table table-striped table-bordered">
  <tbody>


 <tr><td> <p class="lead"><strong><center>Total Amount Brought: <%= quarteryeartotal_amount %> |  Total Estimated Amount: <%= quarteryearestimate_amount %></center></strong></p><td></tr>

  </tbody>

</table>
 <%= will_paginate @quarteryearreports, :renderer => BootstrapPagination::Rails %>
<%else%>
No Reports in this category
<%end%></p>

              </div>
            </div>
          </div>

 <div class="panel">
            <a class="panel-heading collapsed" role="tab" id="headingThree" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              <h4 class="panel-title">This Calender Year Reports</h4>
            </a>
            <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
              <div class="panel-body">
                
                <%if @thisyearreports.any?%>

<p class="lead">This Calender Year Reports</p>

<table id="datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      
      <th>Product</th>
    
      <th>Sold capacity</th>
      <th>Estimate amount</th>
      <th>Amount brought</th>
      <th>Remark</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @thisyearreports.each do |sales_report| %>
      <tr>
       
        <td><%= sales_report.product.name %></td>
       
        <td><%= sales_report.sold_capacity %></td>
        <td><%= sales_report.estimate_amount %></td>
        <td><%= sales_report.amount_brought %></td>
        <td><%= sales_report.remark %></td>
        <td><%= link_to 'Show', sales_report, class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_sales_report_path(sales_report), class:"btn btn-success"%></td>
        <td><%= link_to 'Delete', sales_report, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>

    <% end %>


  </tbody>

</table>


<table id="datatable" class="table table-striped table-bordered">
  <tbody>


 <tr><td> <p class="lead"><strong><center>Total Amount Brought: <%= thisyeartotal_amount %> |  Total Estimated Amount: <%= thisyearestimate_amount %></center></strong></p><td></tr>

  </tbody>

</table>
<%= will_paginate @thisyearreports, :renderer => BootstrapPagination::Rails %>
<%else%>
No Reports in this category
<%end%></p>

              </div>
            </div>
          </div>

          <div class="panel">
            <a class="panel-heading collapsed" role="tab" id="headingTwo" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              <h4 class="panel-title">1 Year Ago Reports</h4>
            </a>

            <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
              <div class="panel-body">
                <%if @pastyearreports.any?%>

<p class="lead">1 Year Ago Reports</p>

<table id="datatable" class="table table-striped table-bordered">
  <thead>
    <tr>
      
      <th>Product</th>
    
      <th>Sold capacity</th>
      <th>Estimate amount</th>
      <th>Amount brought</th>
      <th>Remark</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @pastyearreports.each do |sales_report| %>
      <tr>
       
        <td><%= sales_report.product.name %></td>
       
        <td><%= sales_report.sold_capacity %></td>
        <td><%= sales_report.estimate_amount %></td>
        <td><%= sales_report.amount_brought %></td>
        <td><%= sales_report.remark %></td>
        <td><%= link_to 'Show', sales_report, class:"btn btn-success"%></td>
        <td><%= link_to 'Edit', edit_sales_report_path(sales_report), class:"btn btn-success"%></td>
        <td><%= link_to 'Delete', sales_report, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>

    <% end %>


  </tbody>

</table>


<table id="datatable" class="table table-striped table-bordered">
  <tbody>


 <tr><td> <p class="lead"><strong><center>Total Amount Brought: <%= pastyeartotal_amount %> |  Total Estimated Amount: <%= pastyearestimate_amount %></center></strong></p><td></tr>

  </tbody>

</table>
<%= will_paginate @pastyearreports, :renderer => BootstrapPagination::Rails %>
<%else%>
No Reports in this category
<%end%></p>

              </div>
            </div>
          </div>
         
        </div>
        <!-- end of accordion -->


      </div>
    </div>
  </div>


      </div>
    </div>
  </div>

